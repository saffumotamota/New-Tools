<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI Calculator - Multi-Tools</title>
    <meta name="description" content="Calculate your Body Mass Index (BMI) with this free online calculator. Get instant results and health recommendations.">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../css/style.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .bmi-meter {
            height: 20px;
            background: linear-gradient(to right, 
                #dc3545 0%, /* Underweight */
                #28a745 20%, /* Normal */
                #ffc107 40%, /* Overweight */
                #dc3545 60% /* Obese */
            );
            border-radius: 10px;
            position: relative;
            margin: 20px 0;
        }
        .bmi-pointer {
            position: absolute;
            width: 2px;
            height: 30px;
            background-color: #000;
            bottom: -5px;
            transform: translateX(-50%);
            transition: left 0.3s ease;
        }
        .bmi-scale {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.8rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <!-- Header will be loaded here -->
    <div id="header-placeholder"></div>

    <!-- Main Content -->
    <main class="container py-4">
        <div class="row">
            <!-- Tool Section -->
            <div class="col-lg-8">
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h1 class="h4 mb-0">BMI Calculator</h1>
                    </div>
                    <div class="card-body">
                        <form id="bmiForm">
                            <!-- Unit Selection -->
                            <div class="mb-4">
                                <div class="btn-group w-100" role="group">
                                    <input type="radio" class="btn-check" name="units" id="metric" value="metric" checked>
                                    <label class="btn btn-outline-primary" for="metric">Metric (kg/cm)</label>
                                    <input type="radio" class="btn-check" name="units" id="imperial" value="imperial">
                                    <label class="btn btn-outline-primary" for="imperial">Imperial (lb/in)</label>
                                </div>
                            </div>

                            <!-- Input Fields -->
                            <div class="row mb-4">
                                <!-- Metric Units -->
                                <div id="metricInputs">
                                    <div class="col-md-6 mb-3">
                                        <label for="weight" class="form-label">Weight (kg)</label>
                                        <input type="number" class="form-control" id="weight" min="20" max="300" step="0.1">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="height" class="form-label">Height (cm)</label>
                                        <input type="number" class="form-control" id="height" min="100" max="250">
                                    </div>
                                </div>

                                <!-- Imperial Units -->
                                <div id="imperialInputs" class="d-none">
                                    <div class="col-md-6 mb-3">
                                        <label for="weightLbs" class="form-label">Weight (lbs)</label>
                                        <input type="number" class="form-control" id="weightLbs" min="44" max="660" step="0.1">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="heightFt" class="form-label">Height (ft)</label>
                                        <input type="number" class="form-control" id="heightFt" min="3" max="8">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="heightIn" class="form-label">Height (in)</label>
                                        <input type="number" class="form-control" id="heightIn" min="0" max="11">
                                    </div>
                                </div>
                            </div>

                            <!-- Calculate Button -->
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary">Calculate BMI</button>
                            </div>
                        </form>

                        <!-- Result Section -->
                        <div id="resultSection" class="mt-4 d-none">
                            <div class="text-center mb-4">
                                <h3 class="h5">Your BMI Result</h3>
                                <div class="display-4 text-primary mb-2" id="bmiResult">0.0</div>
                                <div class="h5" id="bmiCategory">Normal Weight</div>
                            </div>

                            <!-- BMI Meter -->
                            <div class="bmi-meter">
                                <div class="bmi-pointer" id="bmiPointer"></div>
                            </div>
                            <div class="bmi-scale">
                                <span>Underweight<br>&lt;18.5</span>
                                <span>Normal<br>18.5-24.9</span>
                                <span>Overweight<br>25-29.9</span>
                                <span>Obese<br>&gt;30</span>
                            </div>

                            <!-- Health Information -->
                            <div class="mt-4" id="healthInfo">
                                <h4 class="h5">Health Information</h4>
                                <div id="healthAdvice" class="alert alert-info">
                                    <!-- Health advice will be inserted here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tool Description -->
                <div class="card">
                    <div class="card-body">
                        <h2 class="h5">About BMI Calculator</h2>
                        <p>Body Mass Index (BMI) is a simple measure that uses your height and weight to work out if your weight is healthy. This calculator provides BMI and the corresponding weight category for adults.</p>
                        
                        <h3 class="h5 mt-4">BMI Categories:</h3>
                        <ul>
                            <li>Underweight = &lt;18.5</li>
                            <li>Normal weight = 18.5–24.9</li>
                            <li>Overweight = 25–29.9</li>
                            <li>Obesity = BMI of 30 or greater</li>
                        </ul>

                        <div class="alert alert-warning mt-4">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Note:</strong> BMI is not a diagnostic tool. Additional factors such as muscle mass, bone density, age, and sex need to be considered for a complete health assessment.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="col-lg-4">
                <!-- Ad Section -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="ad-banner">
                            <p class="text-muted">Advertisement</p>
                        </div>
                    </div>
                </div>

                <!-- Related Tools -->
                <div class="card">
                    <div class="card-header">
                        <h4 class="h5 mb-0">Related Tools</h4>
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled mb-0">
                            <li class="mb-2">
                                <a href="calorie-calculator.html" class="text-decoration-none">
                                    <i class="fas fa-fire me-2"></i>Calorie Calculator
                                </a>
                            </li>
                            <li class="mb-2">
                                <a href="body-fat-calculator.html" class="text-decoration-none">
                                    <i class="fas fa-percentage me-2"></i>Body Fat Calculator
                                </a>
                            </li>
                            <li class="mb-2">
                                <a href="ideal-weight-calculator.html" class="text-decoration-none">
                                    <i class="fas fa-weight me-2"></i>Ideal Weight Calculator
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer will be loaded here -->
    <div id="footer-placeholder"></div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="../js/loadComponents.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('bmiForm');
            const metricInputs = document.getElementById('metricInputs');
            const imperialInputs = document.getElementById('imperialInputs');
            const resultSection = document.getElementById('resultSection');
            const bmiResult = document.getElementById('bmiResult');
            const bmiCategory = document.getElementById('bmiCategory');
            const bmiPointer = document.getElementById('bmiPointer');
            const healthAdvice = document.getElementById('healthAdvice');

            // Toggle units
            document.querySelectorAll('input[name="units"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    if (e.target.value === 'metric') {
                        metricInputs.classList.remove('d-none');
                        imperialInputs.classList.add('d-none');
                    } else {
                        metricInputs.classList.add('d-none');
                        imperialInputs.classList.remove('d-none');
                    }
                });
            });

            // Calculate BMI
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                
                let bmi;
                const unit = document.querySelector('input[name="units"]:checked').value;

                if (unit === 'metric') {
                    const weight = parseFloat(document.getElementById('weight').value);
                    const height = parseFloat(document.getElementById('height').value) / 100; // convert to meters
                    bmi = weight / (height * height);
                } else {
                    const weight = parseFloat(document.getElementById('weightLbs').value);
                    const heightFt = parseFloat(document.getElementById('heightFt').value);
                    const heightIn = parseFloat(document.getElementById('heightIn').value) || 0;
                    const totalInches = (heightFt * 12) + heightIn;
                    bmi = (weight / (totalInches * totalInches)) * 703;
                }

                displayResults(bmi);
            });

            function displayResults(bmi) {
                // Show results section
                resultSection.classList.remove('d-none');

                // Display BMI value
                bmiResult.textContent = bmi.toFixed(1);

                // Update BMI category and pointer position
                let category, color, advice, pointerPosition;

                if (bmi < 18.5) {
                    category = 'Underweight';
                    color = '#dc3545';
                    advice = 'Consider consulting a healthcare provider about healthy ways to gain weight.';
                    pointerPosition = (bmi / 40) * 100;
                } else if (bmi < 25) {
                    category = 'Normal Weight';
                    color = '#28a745';
                    advice = 'Maintain your healthy weight through balanced diet and regular exercise.';
                    pointerPosition = (bmi / 40) * 100;
                } else if (bmi < 30) {
                    category = 'Overweight';
                    color = '#ffc107';
                    advice = 'Consider making lifestyle changes and consult a healthcare provider.';
                    pointerPosition = (bmi / 40) * 100;
                } else {
                    category = 'Obese';
                    color = '#dc3545';
                    advice = 'Please consult a healthcare provider for a thorough evaluation and advice.';
                    pointerPosition = Math.min((bmi / 40) * 100, 100);
                }

                bmiCategory.textContent = category;
                bmiCategory.style.color = color;
                bmiPointer.style.left = `${pointerPosition}%`;
                healthAdvice.innerHTML = `<strong>${category}:</strong> ${advice}`;
            }
        });
    </script>
</body>
</html> 